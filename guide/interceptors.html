<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ (Interceptors) | NestJS</title>
    <meta name="generator" content="VuePress 1.9.1">
    <script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(87021734, "init", {
        clickmap:false,
        trackLinks:false,
        accurateTrackBounce:true
   });</script>
    <meta name="description" content="Nest js —Ä—É—Å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | Nest js –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.f3f3151b.css" as="style"><link rel="preload" href="/assets/js/app.f860922a.js" as="script"><link rel="preload" href="/assets/js/2.5070ee21.js" as="script"><link rel="preload" href="/assets/js/27.6bbcab17.js" as="script"><link rel="preload" href="/assets/js/6.167fb38f.js" as="script"><link rel="prefetch" href="/assets/js/10.b20719ca.js"><link rel="prefetch" href="/assets/js/11.d80b3a23.js"><link rel="prefetch" href="/assets/js/12.a2d55baa.js"><link rel="prefetch" href="/assets/js/13.5c90d8a7.js"><link rel="prefetch" href="/assets/js/14.d28f3bdd.js"><link rel="prefetch" href="/assets/js/15.da725b6a.js"><link rel="prefetch" href="/assets/js/16.8d2490e2.js"><link rel="prefetch" href="/assets/js/17.bdaf0108.js"><link rel="prefetch" href="/assets/js/18.afdbcb5d.js"><link rel="prefetch" href="/assets/js/19.28804ae3.js"><link rel="prefetch" href="/assets/js/20.22b33326.js"><link rel="prefetch" href="/assets/js/21.6a84da22.js"><link rel="prefetch" href="/assets/js/22.890e1941.js"><link rel="prefetch" href="/assets/js/23.297f800f.js"><link rel="prefetch" href="/assets/js/24.b70bec98.js"><link rel="prefetch" href="/assets/js/25.4d902cfb.js"><link rel="prefetch" href="/assets/js/26.b50a8a5d.js"><link rel="prefetch" href="/assets/js/28.6db543ec.js"><link rel="prefetch" href="/assets/js/29.0de88c48.js"><link rel="prefetch" href="/assets/js/3.be24f3d0.js"><link rel="prefetch" href="/assets/js/30.97e39cf0.js"><link rel="prefetch" href="/assets/js/31.ad73e106.js"><link rel="prefetch" href="/assets/js/32.2d3ac26a.js"><link rel="prefetch" href="/assets/js/33.418b24b8.js"><link rel="prefetch" href="/assets/js/34.8203b047.js"><link rel="prefetch" href="/assets/js/35.a48706ef.js"><link rel="prefetch" href="/assets/js/36.ab61a9bf.js"><link rel="prefetch" href="/assets/js/4.0e52596a.js"><link rel="prefetch" href="/assets/js/5.9948df0b.js"><link rel="prefetch" href="/assets/js/7.1222a4fa.js"><link rel="prefetch" href="/assets/js/8.7922d1bc.js"><link rel="prefetch" href="/assets/js/9.398b84e3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f3f3151b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="NestJS" class="logo"> <span class="site-name can-hide">NestJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://donatty.com/insayt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  –ö—É–ø–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫—É –ø–∏–≤–∫–∞ üç∫
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Insayt/nestjs.ru.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://donatty.com/insayt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  –ö—É–ø–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫—É –ø–∏–≤–∫–∞ üç∫
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Insayt/nestjs.ru.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/introduction.html" class="sidebar-link">–í–≤–µ–¥–µ–Ω–∏–µ</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>–û–±–∑–æ—Ä</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/first-steps.html" class="sidebar-link">–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏</a></li><li><a href="/guide/controllers.html" class="sidebar-link">–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã</a></li><li><a href="/guide/providers.html" class="sidebar-link">–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã</a></li><li><a href="/guide/modules.html" class="sidebar-link">–ú–æ–¥—É–ª–∏</a></li><li><a href="/guide/middleware.html" class="sidebar-link">Middleware</a></li><li><a href="/guide/exception-filters.html" class="sidebar-link">–§–∏–ª—å—Ç—Ä—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π</a></li><li><a href="/guide/pipes.html" class="sidebar-link">Pipes</a></li><li><a href="/guide/guards.html" class="sidebar-link">Guards</a></li><li><a href="/guide/interceptors.html" aria-current="page" class="active sidebar-link">Interceptors</a></li><li><a href="/guide/custom-decorators.html" class="sidebar-link">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>–û—Å–Ω–æ–≤—ã</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/fundamentals/custom-providers.html" class="sidebar-link">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã</a></li><li><a href="/guide/fundamentals/async-providers.html" class="sidebar-link">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã</a></li><li><a href="/guide/fundamentals/dynamic-modules.html" class="sidebar-link">–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏</a></li><li><a href="/guide/fundamentals/injection-scopes.html" class="sidebar-link">–û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–Ω—ä–µ–∫—Ü–∏–π</a></li><li><a href="/guide/fundamentals/circular-dependency.html" class="sidebar-link">–ö—Ä—É–≥–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å</a></li><li><a href="/guide/fundamentals/module-ref.html" class="sidebar-link">–°—Å—ã–ª–∫–∞ –Ω–∞ –º–æ–¥—É–ª—å</a></li><li><a href="/guide/fundamentals/lazy-loading-modules.html" class="sidebar-link">–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π</a></li><li><a href="/guide/fundamentals/execution-context.html" class="sidebar-link">–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></li><li><a href="/guide/fundamentals/lifecycle-events.html" class="sidebar-link">–°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</a></li><li><a href="/guide/fundamentals/platform-agnosticism.html" class="sidebar-link">–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</a></li><li><a href="/guide/fundamentals/unit-testing.html" class="sidebar-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>–¢–µ—Ö–Ω–∏–∫–∏</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/techniques/database.html" class="sidebar-link">–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></li><li><a href="/guide/techniques/mongodb.html" class="sidebar-link">–ú–æ–Ω–≥–æ</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏-interceptors"><a href="#–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏-interceptors" class="header-anchor">#</a> –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ (Interceptors)</h1> <p>–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ - —ç—Ç–æ –∫–ª–∞—Å—Å, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º <code>@Injectable()</code>. –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>NestInterceptor</code>.</p> <img src="/Interceptors_1.png"> <p>–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –æ–±–ª–∞–¥–∞—é—Ç –Ω–∞–±–æ—Ä–æ–º –ø–æ–ª–µ–∑–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Ö–Ω–∏–∫–æ–π
<a href="https://ru.wikipedia.org/wiki/%D0%90%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D0%BD%D0%BE-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5" target="_blank" rel="noopener noreferrer">–ê—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
(–ê–û–ü). –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:</p> <ul><li>—Å–≤—è–∑—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –¥–æ/–ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞</li> <li>–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏</li> <li>–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–∑–≤–∞–Ω–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–µ–π</li> <li>—Ä–∞—Å—à–∏—Ä–∏—Ç—å –±–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</li> <li>–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ü–µ–ª—è—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)</li></ul> <h2 id="–æ—Å–Ω–æ–≤—ã"><a href="#–æ—Å–Ω–æ–≤—ã" class="header-anchor">#</a> –û—Å–Ω–æ–≤—ã</h2> <p>–ö–∞–∂–¥—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ <code>intercept()</code>, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –ü–µ—Ä–≤—ã–π - —ç—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä
<code>ExecutionContext</code> (—Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ –æ–±—ä–µ–∫—Ç, –∫–∞–∫ –∏ –¥–ª—è <a href="/guide/guards.html">guards</a>). –≠–∫–∑–µ–º–ø–ª—è—Ä <code>ExecutionContext</code> –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è
–æ—Ç <code>ArgumentsHost</code>. –ú—ã —É–∂–µ –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å —Å <code>ArgumentsHost</code> –≤ –≥–ª–∞–≤–µ –æ —Ñ–∏–ª—å—Ç—Ä–∞—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –¢–∞–º –º—ã –≤–∏–¥–µ–ª–∏, —á—Ç–æ —ç—Ç–æ
–æ–±–µ—Ä—Ç–∫–∞ –≤–æ–∫—Ä—É–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –∏—Å—Ö–æ–¥–Ω–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É, –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–µ <a href="/guide/exception-filters.html#–∞—Ä–≥—É–º–µ–Ω—Ç—ã-—Ö–æ—Å—Ç–∞">–§–∏–ª—å—Ç—Ä—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π</a>
–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–π —Ç–µ–º–µ.</p> <h2 id="–∫–æ–Ω—Ç–µ–∫—Å—Ç-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è"><a href="#–∫–æ–Ω—Ç–µ–∫—Å—Ç-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è" class="header-anchor">#</a> –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è</h2> <p>–†–∞—Å—à–∏—Ä—è—è <code>ArgumentsHost</code>, <code>ExecutionContext</code> —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –≠—Ç–∏ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ–ª–µ–µ –æ–±—â–∏—Ö
–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —à–∏—Ä–æ–∫–∏–º –Ω–∞–±–æ—Ä–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ <code>ExecutionContext</code> <a href="/guide/fundamentals/execution-context.html">–∑–¥–µ—Å—å</a>.</p> <h2 id="–æ–±—Ä–∞–±–æ—Ç—á–∏–∫-–≤—ã–∑–æ–≤–æ–≤"><a href="#–æ–±—Ä–∞–±–æ—Ç—á–∏–∫-–≤—ã–∑–æ–≤–æ–≤" class="header-anchor">#</a> –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑–æ–≤–æ–≤</h2> <p>–í—Ç–æ—Ä—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è <code>CallHandler</code>. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>CallHandler</code> —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ <code>handle()</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –≤ –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç –≤–∞—à–µ–≥–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞. –ï—Å–ª–∏ –≤—ã –Ω–µ –≤—ã–∑–æ–≤–µ—Ç–µ –º–µ—Ç–æ–¥ <code>handle()</code>
–≤ –≤–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞ <code>intercept()</code>, –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤–æ–æ–±—â–µ.</p> <p>–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ <code>intercept()</code> —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ <strong>–∑–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç</strong> –ø–æ—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
–≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ª–æ–≥–∏–∫—É <strong>–¥–æ –∏ –ø–æ—Å–ª–µ</strong> –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞. –ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ
–Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ –≤ –º–µ—Ç–æ–¥–µ <code>intercept()</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è <strong>–¥–æ</strong> –≤—ã–∑–æ–≤–∞ <code>handle()</code>, –Ω–æ –∫–∞–∫ –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Ç–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ?
–ü–æ—Å–∫–æ–ª—å–∫—É –º–µ—Ç–æ–¥ <code>handle()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>Observable</code>, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ—â–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã <a href="https://github.com/ReactiveX/rxjs" target="_blank" rel="noopener noreferrer">RxJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
–¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–º. –ò—Å–ø–æ–ª—å–∑—É—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é –∞—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≤—ã–∑–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
–º–∞—Ä—à—Ä—É—Ç–∞ (—Ç.–µ. –≤—ã–∑–æ–≤ <code>handle()</code>) –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <a href="https://en.wikipedia.org/wiki/Pointcut" target="_blank" rel="noopener noreferrer">Pointcut<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, —É–∫–∞–∑—ã–≤–∞—è –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ —Ç–æ—á–∫–∞,
–≤ –∫–æ—Ç–æ—Ä—É—é –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞—à–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞.</p> <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ö–æ–¥—è—â–∏–π –∑–∞–ø—Ä–æ—Å <code>POST /cats</code>. –≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ <code>create()</code>, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ
–≤–Ω—É—Ç—Ä–∏ <code>CatsController</code>. –ï—Å–ª–∏ –Ω–∞ —ç—Ç–æ–º –ø—É—Ç–∏ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫, –Ω–µ –≤—ã–∑—ã–≤–∞—é—â–∏–π –º–µ—Ç–æ–¥ <code>handle()</code>, –º–µ—Ç–æ–¥ <code>create()</code>
–Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω. –ö–∞–∫ —Ç–æ–ª—å–∫–æ <code>handle()</code> –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω (–∏ –µ–≥–æ <code>Observable</code> –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω), –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ <code>create()</code> –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω.
–ò –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫ –æ—Ç–≤–µ—Ç–∞ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω —á–µ—Ä–µ–∑ <code>Observable</code>, –Ω–∞–¥ –ø–æ—Ç–æ–∫–æ–º –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏,
–∞ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –º–µ—Ç–æ–¥—É.</p> <div class="donut"><div class="donut__content"><div class="donut__title">
      –ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ <br>
      –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫!
    </div> <p>
      –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–º–æ–≥–ª–∞ –≤–∞–º –∏ –æ–∫–∞–∑–∞–ª–∞—Å—å –ø–æ–ª–µ–∑–Ω–∞ - –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å
      –∞–≤—Ç–æ—Ä–∞, —É–≥–æ—Å—Ç–∏–≤ –µ–≥–æ –ø–∞—Ä–æ–π –±–æ–∫–∞–ª–æ–≤ –ø–∏–≤–∫–∞ üç∫ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å
      <a href="https://donatty.com/insayt" target="_blank"> donatty.</a> <br>
      –õ–∏–±–æ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ –ø–µ—Ä–µ–≤–æ–¥ –ø—É–ª —Ä–µ–∫–≤–µ—Å—Ç–æ–º –Ω–∞
      <a href="https://github.com/Insayt/nestjs.ru.com" target="_blank">
        –≥–∏—Ç—Ö–∞–±–µ
      </a></p></div> <img src="/donut.png" class="donut__img"></div> <h2 id="–¥–µ—Ç–∞–ª–∏-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤"><a href="#–¥–µ—Ç–∞–ª–∏-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤" class="header-anchor">#</a> –î–µ—Ç–∞–ª–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤</h2> <p>–ü–µ—Ä–≤—ã–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, - —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–∏).
–ù–∏–∂–µ –ø–æ–∫–∞–∑–∞–Ω –ø—Ä–æ—Å—Ç–æ–π <code>LoggingInterceptor</code>:</p> <div class="filename">logging.interceptor.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable<span class="token punctuation">,</span> NestInterceptor<span class="token punctuation">,</span> ExecutionContext<span class="token punctuation">,</span> CallHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> tap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoggingInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">NestInterceptor</span> <span class="token punctuation">{</span>
  <span class="token function">intercept</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExecutionContext<span class="token punctuation">,</span> next<span class="token operator">:</span> CallHandler<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Before...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> next
      <span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">After... </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> now<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>NestInterceptor&lt;T, R&gt;</code> - —ç—Ç–æ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º <code>T</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø <code>Observable&lt;T&gt;</code> (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–≥–æ –ø–æ—Ç–æ–∫ –æ—Ç–≤–µ—Ç–∞),
–∞ <code>R</code> - —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è, –æ–±–µ—Ä–Ω—É—Ç–æ–≥–æ <code>Observable&lt;R&gt;</code>.</p></blockquote> <blockquote><p>–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, guards –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –º–æ–≥—É—Ç <strong>–∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</strong> —á–µ—Ä–µ–∑ —Å–≤–æ–π <code>–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</code>.</p></blockquote> <p>–ü–æ—Å–∫–æ–ª—å–∫—É <code>handle()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç RxJS <code>Observable</code>, —É –Ω–∞—Å –µ—Å—Ç—å —à–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–¥–ª—è –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º. –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>tap()</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—à—É –∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–æ—Ç–æ–∫–∞, –Ω–æ –Ω–µ –≤–º–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ —Ü–∏–∫–ª –æ—Ç–≤–µ—Ç–∞.</p> <h2 id="–ø—Ä–∏–≤—è–∑–∫–∞-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤"><a href="#–ø—Ä–∏–≤—è–∑–∫–∞-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤" class="header-anchor">#</a> –ü—Ä–∏–≤—è–∑–∫–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤</h2> <p>–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä <code>@UseInterceptors()</code>, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ –ø–∞–∫–µ—Ç–∞ <code>@nestjs/common</code>.
–ö–∞–∫ –∏ <a href="/guide/pipes.html">pipes</a> –∏ <a href="/guide/guards.html">guards</a>, –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –º–µ—Ç–æ–¥ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ.</p> <div class="filename">cats.controller.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token decorator"><span class="token at operator">@</span><span class="token function">UseInterceptors</span></span><span class="token punctuation">(</span>LoggingInterceptor<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CatsController</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><blockquote><p>–î–µ–∫–æ—Ä–∞—Ç–æ—Ä <code>@UseInterceptors()</code> –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ –ø–∞–∫–µ—Ç–∞ <code>@nestjs/common</code>.</p></blockquote> <p>–ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—É—é –≤—ã—à–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≤ <code>CatsController</code>,
–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>LoggingInterceptor</code>. –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É <code>GET /cats</code>, –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π
–≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–µ:</p> <div class="language- extra-class"><pre class="language-text"><code>Before...
After... 1ms
</code></pre></div><p>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ —Ç–∏–ø <code>LoggingInterceptor</code> (–≤–º–µ—Å—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞), –æ—Å—Ç–∞–≤–∏–≤ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
–∑–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –∏ –æ–±–µ—Å–ø–µ—á–∏–≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å pipes, guards
–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –º–µ—Å—Ç–µ:</p> <div class="filename">cats.controller.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token decorator"><span class="token at operator">@</span><span class="token function">UseInterceptors</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoggingInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CatsController</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>–ö–∞–∫ —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è –≤—ã—à–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –∫ –∫–∞–∂–¥–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É, –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–º—É
—ç—Ç–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º. –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –æ–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –æ–¥–Ω–∏–º –º–µ—Ç–æ–¥–æ–º, –º—ã –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ–º
–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –Ω–∞ —É—Ä–æ–≤–Ω–µ <strong>–º–µ—Ç–æ–¥–∞</strong>.</p> <p>–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ <code>useGlobalInterceptors()</code> —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Nest:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">await</span> NestFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>AppModule<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">useGlobalInterceptors</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoggingInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤.
–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–Ω–µ –º–æ–¥—É–ª—è (—Å –ø–æ–º–æ—â—å—é <code>useGlobalInterceptors()</code>,
–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ), –Ω–µ –º–æ–≥—É—Ç –∏–Ω—ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ª—é–±–æ–≥–æ –º–æ–¥—É–ª—è. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å
—ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ <strong>–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ –ª—é–±–æ–≥–æ –º–æ–¥—É–ª—è</strong>, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é:</p> <div class="filename">app.module.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Module <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">APP_INTERCEPTOR</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/core'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Module</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      provide<span class="token operator">:</span> <span class="token constant">APP_INTERCEPTOR</span><span class="token punctuation">,</span>
      useClass<span class="token operator">:</span> LoggingInterceptor<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><blockquote><p>–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞,
–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–æ–¥—É–ª—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫, –ø–æ —Å—É—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º.
–ì–¥–µ —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–¥–µ–ª–∞–Ω–æ?
–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥—É–ª—å –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ (<code>LoggingInterceptor</code> –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, <code>useClass</code> -
–Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. –£–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ <a href="/guide/fundamentals/custom-providers.html">–∑–¥–µ—Å—å</a>.</p></blockquote> <h2 id="–º–∞–ø–ø–∏–Ω–≥-–æ—Ç–≤–µ—Ç–∞"><a href="#–º–∞–ø–ø–∏–Ω–≥-–æ—Ç–≤–µ—Ç–∞" class="header-anchor">#</a> –ú–∞–ø–ø–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞</h2> <p>–ú—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ <code>handle()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>Observable</code>. –≠—Ç–æ—Ç –ø–æ—Ç–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ <strong>–≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–µ</strong> –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞,
–∏ –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ RxJS <code>map()</code>.</p> <blockquote><p>–§—É–Ω–∫—Ü–∏—è response mapping –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –æ—Ç–≤–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ <code>@Res()</code> –Ω–∞–ø—Ä—è–º—É—é –∑–∞–ø—Ä–µ—â–µ–Ω–æ).
–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º <code>TransformInterceptor</code>, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏–∑–º–µ–Ω—è—Ç—å –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.
–û–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä RxJS <code>map()</code> –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –æ—Ç–≤–µ—Ç–∞ —Å–≤–æ–π—Å—Ç–≤—É <code>data</code> –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞,
–≤–æ–∑–≤—Ä–∞—â–∞—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∫–ª–∏–µ–Ω—Ç—É.</p></blockquote> <div class="filename">transform.interceptor.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable<span class="token punctuation">,</span> NestInterceptor<span class="token punctuation">,</span> ExecutionContext<span class="token punctuation">,</span> CallHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> map <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Response<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TransformInterceptor<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">NestInterceptor<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Response<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token function">intercept</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExecutionContext<span class="token punctuation">,</span> next<span class="token operator">:</span> CallHandler<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>Response<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> next<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>data <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ Nest —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏, —Ç–∞–∫ –∏ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ <code>intercept()</code>. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
–≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–µ—Ç–æ–¥ –Ω–∞ <code>async</code>.</p></blockquote> <p>–ü—Ä–∏ –æ–ø–∏—Å–∞–Ω–Ω–æ–π –≤—ã—à–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É <code>GET /cats</code>, –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º
(–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ <code>[]</code>):</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –∏–º–µ—é—Ç –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è
–≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è <code>null</code> –≤ –ø—É—Å—Ç—É—é
—Å—Ç—Ä–æ–∫—É <code>''</code>. –ú—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –≥–ª–æ–±–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∂–¥—ã–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable<span class="token punctuation">,</span> NestInterceptor<span class="token punctuation">,</span> ExecutionContext<span class="token punctuation">,</span> CallHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> map <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExcludeNullInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">NestInterceptor</span> <span class="token punctuation">{</span>
  <span class="token function">intercept</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExecutionContext<span class="token punctuation">,</span> next<span class="token operator">:</span> CallHandler<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> next
      <span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>value <span class="token operator">=&gt;</span> value <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> value <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="–º–∞–ø–ø–∏–Ω–≥-–∏—Å–∫–ª—é—á–µ–Ω–∏–∏"><a href="#–º–∞–ø–ø–∏–Ω–≥-–∏—Å–∫–ª—é—á–µ–Ω–∏–∏" class="header-anchor">#</a> –ú–∞–ø–ø–∏–Ω–≥ –∏—Å–∫–ª—é—á–µ–Ω–∏–π</h2> <p>–ï—â–µ –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è - –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ <code>catchError()</code> –≤ RxJS –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
–±—Ä–æ—à–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π:</p> <div class="filename">errors.interceptor.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Injectable<span class="token punctuation">,</span>
  NestInterceptor<span class="token punctuation">,</span>
  ExecutionContext<span class="token punctuation">,</span>
  BadGatewayException<span class="token punctuation">,</span>
  CallHandler<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable<span class="token punctuation">,</span> throwError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> catchError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ErrorsInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">NestInterceptor</span> <span class="token punctuation">{</span>
  <span class="token function">intercept</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExecutionContext<span class="token punctuation">,</span> next<span class="token operator">:</span> CallHandler<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> next
      <span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">catchError</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token function">throwError</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BadGatewayException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–ø–æ—Ç–æ–∫–æ–≤"><a href="#–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–ø–æ—Ç–æ–∫–æ–≤" class="header-anchor">#</a> –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤</h2> <p>–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—á–∏–Ω, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º—ã –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ–º –∑–∞—Ö–æ—Ç–µ—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –≤—ã–∑–æ–≤–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –≤–µ—Ä–Ω—É—Ç—å
–≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –û—á–µ–≤–∏–¥–Ω—ã–π –ø—Ä–∏–º–µ—Ä - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—ç—à–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞. –î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º
–ø—Ä–æ—Å—Ç–æ–π <strong>–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –∫—ç—à–∞</strong>, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ–π –æ—Ç–≤–µ—Ç –∏–∑ –∫—ç—à–∞. –í —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –±—ã —Ö–æ—Ç–µ–ª–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å
–¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ TTL, –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞, —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞ –∏ —Ç.–¥., –Ω–æ —ç—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –¥–∞–Ω–Ω–æ–≥–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è.
–ó–¥–µ—Å—å –º—ã –ø—Ä–∏–≤–µ–¥–µ–º –±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –æ—Å–Ω–æ–≤–Ω—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é.</p> <div class="filename">cache.interceptor.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable<span class="token punctuation">,</span> NestInterceptor<span class="token punctuation">,</span> ExecutionContext<span class="token punctuation">,</span> CallHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable<span class="token punctuation">,</span> <span class="token keyword">of</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CacheInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">NestInterceptor</span> <span class="token punctuation">{</span>
  <span class="token function">intercept</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExecutionContext<span class="token punctuation">,</span> next<span class="token operator">:</span> CallHandler<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> isCached <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isCached<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> next<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>–ù–∞—à <code>CacheInterceptor</code> –∏–º–µ–µ—Ç –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <code>isCached</code> –∏ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç <code>[]</code>. –ö–ª—é—á–µ–≤—ã–º –º–æ–º–µ–Ω—Ç–æ–º
—è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º RxJS <code>of()</code>, –ø–æ—ç—Ç–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∞
<strong>–Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω</strong> –≤–æ–æ–±—â–µ. –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É, –∏—Å–ø–æ–ª—å–∑—É—é—â—É—é <code>CacheInterceptor</code>, –æ—Ç–≤–µ—Ç
(–∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤) –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ. –ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –≤—ã –º–æ–∂–µ—Ç–µ
–≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è <code>Reflector</code> –∏ —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä <code>Reflector</code> —Ö–æ—Ä–æ—à–æ –æ–ø–∏—Å–∞–Ω –≤ –≥–ª–∞–≤–µ <a href="/guide/guards.html">guards</a>.</p> <h2 id="–±–æ–ª—å—à–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤"><a href="#–±–æ–ª—å—à–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤" class="header-anchor">#</a> –ë–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤</h2> <p>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ RxJS –¥–∞–µ—Ç –Ω–∞–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ—â–µ
–æ–¥–∏–Ω —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å <strong>—Ç–∞–π–º–∞—É—Ç—ã</strong> –≤ –º–∞—Ä—à—Ä—É—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.
–ö–æ–≥–¥–∞ –≤–∞—à–∞ –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å –æ—Ç–≤–µ—Ç–æ–º
–æ–± –æ—à–∏–±–∫–µ. –°–ª–µ–¥—É—é—â–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:</p> <div class="filename">timeout.interceptor.ts</div> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable<span class="token punctuation">,</span> NestInterceptor<span class="token punctuation">,</span> ExecutionContext<span class="token punctuation">,</span> CallHandler<span class="token punctuation">,</span> RequestTimeoutException <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable<span class="token punctuation">,</span> throwError<span class="token punctuation">,</span> TimeoutError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> catchError<span class="token punctuation">,</span> timeout <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TimeoutInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">NestInterceptor</span> <span class="token punctuation">{</span>
  <span class="token function">intercept</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExecutionContext<span class="token punctuation">,</span> next<span class="token operator">:</span> CallHandler<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> next<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">catchError</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token keyword">instanceof</span> <span class="token class-name">TimeoutError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">throwError</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RequestTimeoutException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">throwError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>–ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ 5 —Å–µ–∫—É–Ω–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–∞. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–¥
–≤—ã–±—Ä–æ—Å–æ–º <code>RequestTimeoutException</code> (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤).</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/guide/guards.html" class="prev">
        Guards
      </a></span> <span class="next"><a href="/guide/custom-decorators.html">
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f860922a.js" defer></script><script src="/assets/js/2.5070ee21.js" defer></script><script src="/assets/js/27.6bbcab17.js" defer></script><script src="/assets/js/6.167fb38f.js" defer></script>
  </body>
</html>
